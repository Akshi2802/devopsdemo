    1  sudo yum install ansible
    2  dir
    3  vim /etc/ansible/ansible.cfg 
    4  sudo yum install vim 
    5  vim /etc/ansible/ansible.cfg 
    6  sudo vim /etc/ansible/ansible.cfg 
    7  sudo vim /etc/hosts
    8  ip ad s
    9  sudo vim /etc/hosts
   10  ping ansible1.server.com
   11  ping haproxy1.server.com
   12  ping web1.server.com
   13  pwd
   14  cd .ssh
   15  ls -lart
   16  cat authorized_keys 
   17  cd
   18  ssh-keygen -l -f ~/.ssh/authorized_keys 
   19  vim ~/.ssh/id_haproxy
   20  chmod 600 ~/.ssh/id_haproxy
   21  touch  ~/.ssh/id_web
   22  vim ~/.ssh/id_web
   23  chmod 600 ~/.ssh/id_web
   24  sudo vim /etc/ansible/hosts 
   25  ansible ansible-clients -m shell -a "date"
   26  sudo vim /etc/ansible/hosts 
   27  ansible ansible-clients -m shell -a "date"
   28  sudo vim /etc/ansible/hosts 
   29  ansible ansible-clients -m shell -a "date"
   30  mkdir ansible_roles
   31  cd ansible_roles
   32  dir
   33  ls -lart
   34  ansible-galaxy init users
   35  ansible-galaxy init  haproxy
   36  ansible-galaxy init  webserver
   37  ls -lart
   38  cd users/
   39  ls -lart
   40  vim tasks/main.yml 
   41  mkdir playbooks
   42  cd playbooks
   43  vim generic.yml
   44  sudo vim /etc/ansible/ansible.cfg 
   45  pwd
   46  dir
   47  ansible-playbook generic.yml 
   48  ansible haproxy -m fetch -a "'src=~/id_rsa.pub' dest='~/.ssh/id_autodeploy_{{inventory_hostname}}'" -b --become-user=root
   49  ansible haproxy -m fetch -a "'remote_src=~/id_rsa.pub' dest='~/.ssh/id_autodeploy_{{inventory_hostname}}'" -b --become-user=root
   50  ansible haproxy -m fetch -a "'src=~/id_rsa.pub' dest='~/.ssh/id_autodeploy_{{inventory_hostname}}'" -b 
   51  ansible haproxy -m fetch -a "src=~/id_rsa.pub dest=~/.ssh/id_autodeploy_{{inventory_hostname}}" -b 
   52  ansible haproxy -m fetch -a "src=~/id_rsa.pub dest=~/.ssh/id_autodeploy_{{inventory_hostname}}" -b --become-user=autodeploy 
   53  ls -lart ~/.ssh/
   54  ansible haproxy -m fetch -a "src='~/id_rsa.pub' dest='~/.ssh/id_autodeploy_{{inventory_hostname}}'" -b --become-user=autodeploy 
   55  ansible haproxy -m fetch -a "src='/home/autodeploy/id_rsa.pub' dest='~/.ssh/id_autodeploy_{{inventory_hostname}}'" -b 
   56  ansible haproxy -m fetch -a "src='/home/autodeploy/id_rsa.pub' dest='/home/vagrant/.ssh/id_autodeploy_{{inventory_hostname}}'" -b 
   57  ansible  -vv haproxy -m fetch -a "src='/home/autodeploy/id_rsa.pub' dest='/home/vagrant/.ssh/id_autodeploy_{{inventory_hostname}}'" -b 
   58  ansible  -vv haproxy -m fetch -a "src='/home/autodeploy/id_rsa.pub' dest='/home/vagrant/.ssh/id_autodeploy_{{inventory_hostname}}' flat='yes'" -b 
   59  ansible -vv haproxy -m fetch -a "src='/home/autodeploy/.ssh/id_rsa.pub' dest='/home/vagrant/.ssh/id_autodeploy_{{inventory_hostname}}' flat='yes'" -b 
   60  vim ~/ansible_roles/users/tasks/main.yml 
   61  ansible-playbook generic.yml 
   62  ansible-playbook -l all generic.yml 
   63  cd ~/.ssh/
   64  ls -alrt
   65  cd
   66  cd .ssh/
   67  rm -f id_autodeploy_haproxy1.server.com 
   68  ls -alrt
   69  cd
   70  cd pl
   71  cd play
   72  cd ansible_roles/
   73  ls -alrt
   74  cd ..
   75  ls -alrt
   76  cd ansible_roles/
   77  ll
   78  cd ../
   79  ll
   80  cd 
   81  cd ansible_roles/
   82  ll
   83  cd ..
   84  find -type f -iname "playbooks"
   85  find -type f -iname "playbook" 
   86  2~cd
   87  ls -lart
   88  cd ansible_roles/
   89  ll
   90  find -type d  -iname "playbooks" 
   91  mv users/playbooks/ ~/
   92  cd
   93  ansible-playbook  playbooks/generic.yml 
   94  ls -lart .ssh/
   95  vim ansible_roles/users/tasks/main.yml 
   96  ansible-playbook  playbooks/generic.yml 
   97  ls -lart
   98  vim ansible_roles/users/
   99  vim ansible_roles/users/tasks/main.yml 
  100  ansible-playbook  playbooks/generic.yml 
  101  vim ansible_roles/users/tasks/main.yml 
  102  ansible-playbook  playbooks/generic.yml 
  103  vim ansible_roles/users/tasks/main.yml 
  104  ansible-playbook  playbooks/generic.yml 
  105  vim ansible_roles/users/tasks/main.yml 
  106  ansible-playbook  playbooks/generic.yml 
  107  vim ansible_roles/users/tasks/main.yml 
  108  ansible-playbook  playbooks/generic.yml 
  109  vim ansible_roles/users/tasks/main.yml 
  110  ansible-playbook  playbooks/generic.yml 
  111  ls -lart .ssh/
  112  cd .ssh/id_rsa_autodeploy_\
  113  cd .ssh/id_rsa_autodeploy_
  114  cd ".ssh/id_rsa_autodeploy_\"
  115  ls -alrt
  116  ls -alr
  117  cd .ssh/
  118  ls -alrt
  119  cd id_rsa_autodeploy_\'web1.server.com\'/
  120  ls -lart
  121  cd web1.server.com/
  122  ls -alrt
  123  cd home/autodeploy/.ssh/
  124  ls -alrt
  125  cd
  126  cd ansible_roles/
  127  ll
  128  cd
  129  ls -lart
  130  ansible_roles/
  131  ls -alrt
  132  cd ansible_roles/
  133  ls -lart
  134  cd users/
  135  ls -lart
  136  vim tasks/main.yml 
  137  rm -rf ~/.ssh/id_rsa_autodeploy_\*
  138  vim tasks/main.yml 
  139  cd
  140  ansible-playbook playbooks/generic.yml 
  141  vim tasks/main.yml 
  142  vim ansible_roles/users/tasks/main.yml 
  143  ansible-playbook playbooks/generic.yml 
  144  cd .ssh/
  145  ls  -lart
  146  ls -lartR web1.server.com-id_rsa.pub/
  147  cd
  148  vim ansible_roles/users/tasks/main.yml 
  149  cd .ssh/
  150  rm -rf id_rsa_autodeploy_\'*
  151  rm -rf web1.server.com-id_rsa.pub/
  152  rm -rf haproxy1.server.com-id_rsa.pub/
  153  cd
  154  ansible-playbook playbooks/generic.yml 
  155  vim ansible_roles/users/tasks/main.yml 
  156  ansible-playbook playbooks/generic.yml 
  157  vim ansible_roles/users/tasks/main.yml 
  158  cd .ssh/
  159  ll
  160  cd web1.server.com-id_rsa.pub/
  161  ls -alrt
  162  cd web1.server.com/
  163  ls -alrt
  164  cd home/autodeploy/
  165  ls -alrt
  166  cd .ssh/
  167  ls -alrt
  168  cd
  169  vim ansible_roles/users/tasks/main.yml 
  170  ansible-playbook playbooks/generic.yml 
  171  vim ansible_roles/users/tasks/main.yml 
  172  cd .ssh/
  173  ls -lart
  174  rm -rf haproxy1.server.com*
  175  rm -rf web1.server.com*
  176  cd
  177  vim ansible_roles/users/tasks/main.yml 
  178  ansible-playbook playbooks/generic.yml 
  179  vim ansible_roles/users/tasks/main.yml 
  180  ansible-playbook playbooks/generic.yml 
  181  vim ansible_roles/users/tasks/main.yml 
  182  ansible-playbook playbooks/generic.yml 
  183  vim ansible_roles/users/tasks/main.yml 
  184  rm -rf .ssh/haproxy1.server.com/
  185  rm -rf .ssh/web1.server.com/
  186  ansible-playbook playbooks/generic.yml 
  187  rm -rf .ssh/web1.server.com/
  188  rm -rf .ssh/haproxy1.server.com/
  189  vim ansible_roles/users/tasks/main.yml 
  190  ansible-playbook playbooks/generic.yml 
  191  vim ansible_roles/users/tasks/main.yml 
  192  ls -lart ~/.ssh/web1.server.com/home/autodeploy/.ssh/id_rsa.pub 
  193  vim ansible_roles/users/tasks/main.yml 
  194  ansible-playbook playbooks/generic.yml 
  195  vim ansible_roles/users/tasks/main.yml 
  196  rm -rf .ssh/web1.server.com/
  197  rm -rf .ssh/haproxy1.server.com/
  198  ansible-playbook playbooks/generic.yml 
  199  ls -lart .ssh/haproxy1.server.com/home/autodeploy/.ssh/id_rsa.pub 
  200  vim ansible_roles/users/tasks/main.yml 
  201  ansible-playbook playbooks/generic.yml
  202  vim ansible_roles/users/tasks/main.yml 
  203  ansible --version
  204  vim ansible_roles/users/tasks/main.yml 
  205  cd .ssh/
  206  ll
  207  cd haproxy1.server.com/
  208  ll
  209  cd home/autodeploy/.ssh/
  210  pwd
  211  pwdcd
  212  cd
  213  vim ansible_roles/users/tasks/main.yml 
  214  ansible --version
  215  ansible-playbook playbooks/generic.yml
  216  vim ansible_roles/users/tasks/main.yml 
  217  ansible-playbook playbooks/generic.yml
  218  sudo yum update ansible
  219  vim ansible_roles/users/tasks/main.yml 
  220  ansible-playbook playbooks/generic.yml
  221  ls -lart .ssh/
  222  vim ansible_roles/users/tasks/main.yml 
  223  ansible-playbook playbooks/generic.yml
  224  vim ansible_roles/users/tasks/main.yml 
  225  ansible-playbook playbooks/generic.yml
  226  vim ansible_roles/users/tasks/main.yml 
  227  ansible-playbook playbooks/generic.yml
  228  cat .ssh/haproxy1.server.com-id_rsa.pub 
  229  cat .ssh/id_rsa.pub 
  230  vim ansible_roles/users/tasks/main.yml 
  231  ansible-playbook playbooks/generic.yml
  232  vim ansible_roles/users/tasks/main.yml 
  233  ansible-playbook playbooks/generic.yml
  234  vim ansible_roles/users/tasks/main.yml 
  235  ansible-playbook playbooks/generic.yml
  236  cat .ssh/haproxy1.server.com-id_rsa.pub 
  237  vim ansible_roles/users/tasks/main.yml 
  238  ansible-playbook playbooks/generic.yml
  239  cd .ssh/
  240  ls -lart
  241  cd haproxy1.server.com/
  242  ls -lart
  243  cd
  244  vim ansible_roles/users/tasks/main.yml 
  245  ansible-playbook playbooks/generic.yml
  246  cat .ssh/haproxy1.server.com/haproxy1.server.com-id_rsa.pub 
  247  vim .ssh/haproxy1.server.com/haproxy1.server.com-id_rsa.pub
  248  ansible-playbook playbooks/generic.yml
  249  vim ansible-playbook playbooks/generic.yml
  250  vim .ssh/haproxy1.server.com/haproxy1.server.com-id_rsa.pub
  251  vim ansible_roles/users/tasks/main.yml 
  252  ansible-playbook playbooks/generic.yml
  253  rm -rf .ssh/haproxy1.server.com*
  254  rm -rf .ssh/web1.server.com*
  255  ansible-playbook playbooks/generic.yml
  256  vim ansible_roles/users/tasks/main.yml 
  257  ansible-playbook playbooks/generic.yml
  258  vim ansible_roles/users/tasks/main.yml 
  259  ansible-playbook playbooks/generic.yml
  260  vim ansible_roles/users/tasks/main.yml 
  261  ansible-playbook playbooks/generic.yml
  262  ansible-playbook  -vvv playbooks/generic.yml
  263  vim ansible_roles/users/tasks/main.yml 
  264  ansible-playbook  -vvv playbooks/generic.yml
  265  ll
  266  cd haproxy1.server.com/
  267  ll
  268  cat haproxy1.server.com-id_rsa.pub 
  269  ansible-playbook  -vvv playbooks/generic.yml
  270  exit
  271  sudo vim /etc/ansible/hosts 
  272  ping web1.server.com
  273  ansible ansible-clients -m shell -a "date"
  274  cat /etc/hosts
  275  sudo echo "192.168.1.15 web1.server.com" >> /etc/hosts
  276  sudo su - 
  277  ansible ansible-clients -m shell -a "date"
  278  rm ./.ssh/known_hosts 
  279  rm -f ~/.ssh/known_hosts 
  280  ansible ansible-clients -m shell -a "date"
  281  ls -lart
  282  ansible ansible-clients -m shell -a "date"
  283  cd
  284  cd ansible_roles/
  285  ls -lart
  286  cd users/
  287  ls -lart
  288  vim vars/main.yml 
  289  d
  290  ls -lart
  291  vim tasks/main.yml 
  292  cd defaults/
  293  ll
  294  vim main.yml 
  295  pwd
  296  ls -lart
  297  pwd
  298  ls -lart
  299  vim ../tasks/main.yml 
  300  ansible haproxy -m setup | grep "{{inventory_hostname}}"
  301  ansible haproxy -m setup
  302  ansible haproxy -m setup | grep "inventory_hostname"
  303  ansible haproxy -m shell -a "date"
  304  ansible haproxy -m setup
  305  cd
  306  cd .ssh/
  307  ls -alrt
  308  cat /etc/ansible/hosts 
  309  ls -lart
  310  cd
  311  cd ansible_roles/
  312  ls -alrt
  313  vim users/tasks/main.yml 
  314  ssh -i ~/.ssh/haproxy1.server.com/haproxy1.server.com-id_rsa autodeploy@haproxy1.server.com
  315  ls -lart
  316  cd ~/.ssh/
  317  ls -alrt
  318  pwd
  319  ssh -i ~/.ssh/haproxy1.server.com/haproxy1.server.com-id_rsa autodeploy@haproxy1.server.com
  320  pwd
  321  cd
  322  vim playbooks/generic.yml 
  323  cd ansible_roles/
  324  pwd
  325  cat /etc/ansible/ansible.cfg | grep role_path
  326  cat /etc/ansible/ansible.cfg | grep roles_path
  327  cd
  328  pdw
  329  pwd
  330  ansible-playbook -v playbooks/generic.yml 
  331  cd .ssh/
  332  ls -lart
  333  cd web1.server.com/
  334  ls -lart
  335  pwd
  336  cd
  337  pwd
  338  ssh -i ~/.ssh/web1.server.com/web1.server.com-id_rsa autodeploy@web1.server.com
  339  cd .ssh/
  340  cd
  341  ls -ld /home/vagrant/
  342  cd /home/vagrant/
  343  cd .ssh/web1.server.com/
  344  ls -lart
  345  chmod 600 web1.server.com-id_rsa
  346  cd
  347  ssh -i ~/.ssh/web1.server.com/web1.server.com-id_rsa autodeploy@web1.server.com
  348  hostname
  349  cd ansible_roles/
  350  ls -lart
  351  cd users/
  352  ls -lart
  353  vim tasks/main.yml 
  354  clear
  355  history 
  356  pwd
  357  pcd
  358  cd
  359  ssh git@github.com
  360  cd
  361  cd .ssh
  362  ls -lart
  363  vim config
  364  ssh git@github.com
  365  chmod 600 git@github.com
  366  ls -lart
  367  chmod 600 config
  368  ssh git@github.com
  369  cat id_rsa_git_devops_demo.pub
  370  ssh git@github.com
  371  ls -lart
  372  cd
  373  mkdir git_projects
  374  cd git_projects/
  375  ll
  376  cd ~/ansible_roles/
  377  ls -alrt
  378  cp /etc/ansible/ansible.cfg .
  379  cp /etc/ansible/hosts .
  380  cp -rf  ../playbooks/ .
  381  ls -lart
  382  pwd
  383  cd
  384  cd git_projects/
  385  ls -lart
  386  git clone git@github.com:rbgithuub/devopsdemo.git
  387  ls -lart
  388  cd devopsdemo/
  389  ls -lart
  390  cd ansible_roles/
  391  ls -art
  392  ls -lart
  393  pwd
  394  cp -rf ~/ansible_roles/users/ .
  395  ls -lart
  396  cd users/
  397  ls -lart
  398  cd
  399  git branch ansible-user-role
  400  git checkout ansible-user-role
  401  cd git_projects/
  402  ll
  403  cd devopsdemo/
  404  git branch ansible-user-role
  405  ls -lart
  406  git checkout ansible-user-role
  407  cd ansible_roles/
  408  ls -lart
  409  cd users/
  410  ll
  411  vim tasks/main.yml 
  412  cd ../../
  413  ls -lart
  414  cd ansible_roles/
  415  ll
  416  cd ..
  417  mkdir command_history
  418  #history > ansible_node
  419  cd command_history/
  420  ll
  421  history > ansible_node
